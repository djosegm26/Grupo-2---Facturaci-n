<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Clientes</title>
  <link rel="stylesheet" href="/public/css/style.css">
</head>
<body>
  <header>
    <h1>GestiÃ³n de Clientes</h1>
  </header>

  <main>
    <h2>Registro de Clientes</h2>
    <form id="clienteForm" action="/clientes/nuevo" method="POST">
      <input type="text" id="nombreCliente" placeholder="Nombre" name="nombre" required>
      <input type="text" id="identificacionCliente" placeholder="IdentificaciÃ³n" name="identificacion" required>
      <input type="email" id="emailCliente" placeholder="Email" name="email" required>
      <input type="text" id="telefonoCliente" placeholder="TelÃ©fono" name="telefono" required>
      <input type="text" id="direccionCliente" placeholder="DirecciÃ³n" name="direccion" required>
      <button type="submit">Agregar Cliente</button>
    </form>

    <h2>Lista de Clientes</h2>
    <table id="tablaClientes">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Email</th>
          <th>TelÃ©fono</th>
          <th>DirecciÃ³n</th>
          <th>IdentificaciÃ³n</th>
          <th colspan="2">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% if (clientes && clientes.length > 0) { %>
          <% clientes.forEach(cliente => { %>
            <tr data-id="<%= cliente.id %>">
              <td><%= cliente.nombre %></td>
              <td><%= cliente.email %></td>
              <td><%= cliente.telefono %></td>
              <td><%= cliente.direccion %></td>
              <td><%= cliente.identificacion %></td>

              <!-- Botones de acciÃ³n centrados -->
              <td colspan="2" class="text-center">
                <a href="/clientes/editar/<%= cliente.id %>" class="btn btn-warning btn-sm me-2">âœï¸ Editar</a>

                <form action="/clientes/eliminar/<%= cliente.id %>" method="POST" style="display:inline;"
                      onsubmit="return confirmEliminarCliente(event, '<%= cliente.nombre %>');">
                  <button type="submit" class="btn btn-danger btn-sm">ğŸ—‘ï¸ Eliminar</button>
                </form>
              </td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr><td colspan="7">No hay clientes registrados.</td></tr>
        <% } %>
      </tbody>
    </table>
  </main>

  <script>
    // ConfirmaciÃ³n antes de eliminar
    function confirmEliminarCliente(event, nombre) {
      return confirm('Â¿EstÃ¡s seguro que deseas eliminar al cliente "' + nombre + '"?');
    }
  </script>
</body>
</html>





