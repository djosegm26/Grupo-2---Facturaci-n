<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Servicios</title>
    <link rel="stylesheet" href="/public/css/style.css">
</head>
<body>
    <header>
        <h1>Gesti√≥n de Servicios</h1>
    </header>

    <main>
        <h2>Registro de Servicios</h2>
        <form id="servicioForm" method="POST" action="/servicios/nuevo">
            <input type="text" id="nombreServicio" placeholder="Nombre del Servicio" name="nombre" required>
            <input type="text" id="descripcionServicio" placeholder="Descripci√≥n" name="descripcion">
            <input type="number" id="precioServicio" placeholder="Precio" name="precio" step="0.01" required>
            <button type="submit">Agregar Servicio</button>
        </form>

        <h2>Lista de Servicios</h2>
        <table id="tablaServicios">
            <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Descripci√≥n</th>
                    <th>Precio</th>
                    <th colspan="2">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <% if (servicios && servicios.length > 0) { %>
                    <% servicios.forEach(servicio => { %>
                        <tr data-id="<%= servicio.id %>">
                            <td><%= servicio.nombre %></td>
                            <td><%= servicio.descripcion %></td>
                            <td><%= servicio.precio %></td>

                            <!-- Acciones centradas -->
                            <td colspan="2" class="text-center">
                                <a href="/servicios/editar/<%= servicio.id %>" class="btn btn-warning btn-sm me-2">‚úèÔ∏è Editar</a>

                                <form action="/servicios/eliminar/<%= servicio.id %>" method="POST" style="display:inline;"
                                    onsubmit="return confirmEliminarServicio(event, '<%= servicio.nombre %>');">
                                    <button type="submit" class="btn btn-danger btn-sm">üóëÔ∏è Eliminar</button>
                                </form>
                            </td>
                        </tr>
                    <% }) %>
                <% } else { %>
                    <tr><td colspan="5">No hay servicios registrados.</td></tr>
                <% } %>
            </tbody>
        </table>
    </main>

    <script>
        // Confirmaci√≥n antes de eliminar
        function confirmEliminarServicio(event, nombre) {
            return confirm('¬øEst√°s seguro que deseas eliminar el servicio "' + nombre + '"?');
        }
    </script>
</body>
</html>


